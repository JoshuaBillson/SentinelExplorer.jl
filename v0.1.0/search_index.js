var documenterSearchIndex = {"docs":
[{"location":"","page":"Home","title":"Home","text":"CurrentModule = SentinelExplorer","category":"page"},{"location":"#SentinelExplorer","page":"Home","title":"SentinelExplorer","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"SentinelExplorer is a pure Julia package for querying and downloading Sentinel data from the Copernicus Data Space Ecosystem.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"To install this package, start the Julia REPL and open the package manager by typing ]. You can then install SentinelExplorer from the official Julia repository like so:","category":"page"},{"location":"","page":"Home","title":"Home","text":"(@v1.9) pkg> add SentinelExplorer","category":"page"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using SentinelExplorer, GeoDataFrames, Dates\n\n# Only Necessary if `SENTINEL_EXPLORER_USER` and `SENTINEL_EXPLORER_PASS` are not Already Set\nauthenticate(\"my_username\", \"my_password\")\n\n# Load Region of Interest From External GeoJSON or Shapefile\nroi = GeoDataFrames.read(\"data/roi.geojson\").geometry |> first\n\n# Define Region of Interest as a Bounding Box\nbb = BoundingBox((52.1, -114.4), (51.9, -114.1))\n\n# Define Region of Interest Centered on a Point\np = Point(52.0, -114.25)\n\n# Search For Sentinel-2 Imagery Intersecting our ROI Between August 1 2020 and August 9 2020\ndates = (DateTime(2020, 8, 1), DateTime(2020, 8, 9))\nresults_1 = search(\"SENTINEL-2\", dates=dates, geom=roi)\n\n# Limit Search to Scenes with no More Than 15% Clouds\nresults_2 = search(\"SENTINEL-2\", dates=dates, geom=roi, clouds=15)\n\n# Further Limit to L2A Products\nresults_3 = search(\"SENTINEL-2\", dates=dates, geom=roi, clouds=15, product=\"L2A\")\n\n# Retrieve Result with Lowest Cloud Cover\nscene = sort(results_3, :CloudCover) |> first\n\n# Download Scene\ndownload_scene(scene.Name; unzip=true)","category":"page"},{"location":"#Integration-with-DataDeps","page":"Home","title":"Integration with DataDeps","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using SentinelExplorer, DataDeps, SatelliteDataSources, Rasters\n\n# Register Data Dependency\nDataDep(\n    \"S2B_MSIL2A_20200804T183919_N0500_R070_T11UPT_20230321T050221\", \n    \"Sentinel 2 Test Data\", \n    \"S2B_MSIL2A_20200804T183919_N0500_R070_T11UPT_20230321T050221\", \n    \"b320ecdaf31bf8555a37b426623adde7becd5d3b00e9b62c65fb49738290a4c4\",\n    fetch_method = download_scene,\n    post_fetch_method = unpack\n) |> register\n\n# Only Necessary if `SENTINEL_EXPLORER_USER` and `SENTINEL_EXPLORER_PASS` are not Already Set\nauthenticate(\"my_username\", \"my_password\")\n\n# Download Data and Read Green and NIR Bands\nsrc = datadep\"S2B_MSIL2A_20200804T183919_N0500_R070_T11UPT_20230321T050221\"\nsentinel_2_10m = SatelliteDataSources.Sentinel2{10}(src)\ngreen, nir = RasterStack(sentinel_2_10m, [:green, :nir])\n\n# Convert DNs to Reflectance\ngreen = green .* 0.0001f0\nnir = nir .* 0.0001f0\n\n# Compute NDWI\nndwi = (green .- nir) ./ (green .+ nir)","category":"page"},{"location":"#Index","page":"Home","title":"Index","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"#API","page":"Home","title":"API","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [SentinelExplorer]","category":"page"},{"location":"#SentinelExplorer.BoundingBox","page":"Home","title":"SentinelExplorer.BoundingBox","text":"BoundingBox(ul, lr)\n\nConstruct a bounding box defined by the corners ul and lr.\n\nAll coordinates should be provided in latitude and longitude.\n\nParameters\n\nul: The upper-left corner of the box as a Tuple{T,T} of latitude and longitude.\nlr: The lower-right corner of the box as a Tuple{T,T} of latitude and longitude.\n\nExample\n\nbb = BoundingBox((52.1, -114.4), (51.9, -114.1))\n\n\n\n\n\n","category":"type"},{"location":"#SentinelExplorer.Point","page":"Home","title":"SentinelExplorer.Point","text":"Point(lat, lon)\n\nConstruct a point located at the provided latitude and longitude.\n\nParameters\n\nlat: The latitude of the point.\nlon: The longitude of the point.\n\nExample\n\np = Point(52.0, -114.25)\n\n\n\n\n\n","category":"type"},{"location":"#SentinelExplorer.authenticate-Tuple{Any, Any}","page":"Home","title":"SentinelExplorer.authenticate","text":"authenticate(username, password)\n\nAuthenticate with your Copernicus Data Space credentials.\n\nSets the environment variables SENTINEL_EXPLORER_USER and SENTINEL_EXPLORER_PASS, which will be used to authenticate future requests.\n\nParameters\n\nusername: Your Copernicus Data Space username.\npassword: Your Copernicus Data Space password.\n\nExample\n\nauthenticate(\"my_username\", \"my_password\")\ntoken = get_access_token()\n\n\n\n\n\n","category":"method"},{"location":"#SentinelExplorer.download_scene","page":"Home","title":"SentinelExplorer.download_scene","text":"download_scene(scene, dir=pwd(); unzip=false, log_progress=true, access_token=nothing)\n\nDownload the requested Sentinel scene using the provided access token.\n\nParameters\n\nscene: The name of the jentinel scene to download.\ndir: The destination directory of the downloaded scene (default = pwd()).\n\nKeywords\n\nunzip: If true, unzips and deletes the downloaded zip file (default = false).\nlog_progress: If true, logs the download progress at 1-second intervals (default = true).\naccess_token: A token to authenticate the request. Calls get_access_token() if nothing (default).\n\n\n\n\n\n","category":"function"},{"location":"#SentinelExplorer.download_scenes","page":"Home","title":"SentinelExplorer.download_scenes","text":"download_scenes(scenes, dir=pwd(); unzip=false, access_token=nothing)\n\nDownload multiple scenes in parallel.\n\nThe number of parallel downloads is determined by Threads.nthreads().\n\nParameters\n\nscenes: A list of scenes to download.\n\nKeywords\n\ndir: The destination directory of the downloaded scene (default = pwd()).\nunzip: If true, unzips and deletes the downloaded zip file (default = false).\naccess_token: A token to authenticate the request. Calls get_access_token() if nothing (default).\n\n\n\n\n\n","category":"function"},{"location":"#SentinelExplorer.get_access_token-Tuple{Any, Any}","page":"Home","title":"SentinelExplorer.get_access_token","text":"get_access_token()\nget_access_token(username, password)\n\nReceive a data access token with the provided credentials.\n\nThe username and password may be passed explicitly, or provided as a pair of environment variables.\n\nIn the case of the latter, get_access_token() expects your username and password to be provided as the  environment variables SENTINEL_EXPLORER_USER and SENTINEL_EXPLORER_PASS.\n\nParameters\n\nusername: Your Copernicus Data Space username.\npassword: Your Copernicus Data Space password.\n\nReturns\n\nAn access token for downloading data.\n\nExample\n\ntoken = get_access_token(ENV[\"SENTINEL_EXPLORER_USER\"], ENV[\"SENTINEL_EXPLORER_PASS\"])\ntoken = get_access_token()  # Same as Above\n\n\n\n\n\n","category":"method"},{"location":"#SentinelExplorer.get_scene_id-Tuple{Any}","page":"Home","title":"SentinelExplorer.get_scene_id","text":"get_scene_id(scene)\n\nLookup the unique identifier for the provided scene.\n\nParameters\n\nscene: The name of the Sentinel scene to lookup.\n\nReturns\n\nThe unique identifier for downloading the provided scene.\n\nExample\n\njulia> scene = \"S2B_MSIL2A_20200804T183919_N0500_R070_T11UPT_20230321T050221\";\n\njulia> get_scene_id(scene)\n\"29f0eaaf-0b15-412b-9597-16c16d4d79c6\"\n\n\n\n\n\n","category":"method"},{"location":"#SentinelExplorer.search-Tuple{String}","page":"Home","title":"SentinelExplorer.search","text":"search(satellite; product=nothing, dates=nothing, tile=nothing, clouds=nothing, geom=nothing, max_results=100)\n\nSearch for satellite images matching the provided filters.\n\nParameters\n\nsatellite: One of \"SENTINEL-1\", \"SENTINEL-2\", or \"SENTINEL-3\".\n\nKeywords\n\nproduct: The product type to search for such as \"L2A\", \"L1C\", \"GRD\", etc.\ndates: The date range for image acquisition. Should be a tuple of DateTime objects.\ntile: Restrict results to a given tile. Only available for Sentinel-2.\nclouds: The maximum allowable cloud cover as a percentage. Not available for Sentinel-1.\ngeom: A geometry specifying the region of interest. Can be a Point, BoundingBox, or any other GeoInterface compatible geometry.\nmax_results: The maximum number of results to return (default = 100).\n\nReturns\n\nA DataFrame with the columns :Name, :AcquisitionDate, :PublicationDate, :CloudCover, and :Id.\n\nExample\n\njulia> geom = GeoDataFrames.read(\"test/data/roi.geojson\").geometry[1];\n\njulia> dates = (DateTime(2020, 8, 4), DateTime(2020, 8, 5));\n\njulia> search(\"SENTINEL-2\",  geom=geom, dates=dates)\n3×5 DataFrame\n Row │ Name                               AcquisitionDate           Pub ⋯\n     │ String                             String                    Str ⋯\n─────┼───────────────────────────────────────────────────────────────────\n   1 │ S2B_MSIL2A_20200804T183919_N0500…  2020-08-04T18:39:19.024Z  202 ⋯\n   2 │ S2B_MSIL1C_20200804T183919_N0209…  2020-08-04T18:39:19.024Z  202\n   3 │ S2B_MSIL1C_20200804T183919_N0500…  2020-08-04T18:39:19.024Z  202\n                                                        3 columns omitted\n\n\n\n\n\n","category":"method"}]
}
